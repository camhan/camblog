jQuery(document).ready(function(a){var e;var d;function b(g,i){var j=a(".uploaded-file"),h;var f=a(this);d=i;g.preventDefault();if(e){e.open()}else{e=wp.media.frames.optionsframework_upload=wp.media({title:f.data("choose"),button:{text:f.data("update"),close:false}});e.on("select",function(){var k=e.state().get("selection").first();e.close();d.find(".upload").val(k.attributes.url);if(k.attributes.type=="image"){d.find(".screenshot").empty().hide().append('<img src="'+k.attributes.url+'"><a class="remove-image">Remove</a>').slideDown("fast")}d.find(".upload-button").unbind().addClass("remove-file").removeClass("upload-button").val(optionsframework_l10n.remove);d.find(".of-background-properties").slideDown();d.find(".remove-image, .remove-file").on("click",function(){c(a(this).parents(".section"))})})}e.open()}function c(f){f.find(".remove-image").hide();f.find(".upload").val("");f.find(".of-background-properties").hide();f.find(".screenshot").slideUp();f.find(".remove-file").unbind().addClass("upload-button").removeClass("remove-file").val(optionsframework_l10n.upload);if(a(".section-upload .upload-notice").length>0){a(".upload-button").remove()}f.find(".upload-button").on("click",function(g){b(g,a(this).parents(".section"))})}a(".remove-image, .remove-file").on("click",function(){c(a(this).parents(".section"))});a(".upload-button").click(function(f){b(f,a(this).parents(".section"))})});